import{l as q,c as z,a as E,b as I,d as T,e as G}from"./cache.a3e2edf6.js";import{z as J,r as u,d as o,K as M,o as C,c as P,e,w as a,B as K,i as B,j as y,n as Q,q as W}from"./index.a7421632.js";const X={class:"app-container"},Y=y("span",null,"\u7F13\u5B58\u5217\u8868",-1),Z=y("span",null,"\u952E\u540D\u5217\u8868",-1),ee=y("span",null,"\u7F13\u5B58\u5185\u5BB9",-1),ae=Q("\u6E05\u7406\u5168\u90E8"),te=J({name:"CacheList"}),ce=Object.assign(te,{setup(le){const{proxy:i}=W(),w=u([]),b=u([]),c=u({}),p=u(!0),f=u(!1),h=u(""),x=u(window.innerHeight-200);function N(){p.value=!0,q().then(l=>{w.value=l.data,p.value=!1})}function R(){N(),i.$modal.msgSuccess("\u5237\u65B0\u7F13\u5B58\u5217\u8868\u6210\u529F")}function S(l){z(l.cacheName).then(t=>{i.$modal.msgSuccess("\u6E05\u7406\u7F13\u5B58\u540D\u79F0["+h.value+"]\u6210\u529F"),m()})}function m(l){const t=l!==void 0?l.cacheName:h.value;t!==""&&(f.value=!0,E(t).then(s=>{b.value=s.data,f.value=!1,h.value=t}))}function D(){m(),i.$modal.msgSuccess("\u5237\u65B0\u952E\u540D\u5217\u8868\u6210\u529F")}function O(l){I(l).then(t=>{i.$modal.msgSuccess("\u6E05\u7406\u7F13\u5B58\u952E\u540D["+l+"]\u6210\u529F"),m()})}function F(l){return l.cacheName.replace(":","")}function U(l){return l.replace(h.value,"")}function j(l){T(h.value,l).then(t=>{c.value=t.data})}function A(){G().then(l=>{i.$modal.msgSuccess("\u6E05\u7406\u5168\u90E8\u7F13\u5B58\u6210\u529F")})}return N(),(l,t)=>{const s=o("el-button"),r=o("el-table-column"),V=o("el-table"),_=o("el-card"),d=o("el-col"),g=o("el-input"),v=o("el-form-item"),k=o("el-row"),H=o("el-form"),$=M("loading");return C(),P("div",X,[e(k,{gutter:10},{default:a(()=>[e(d,{span:8},{default:a(()=>[e(_,{style:{height:"calc(100vh - 125px)"}},{header:a(()=>[Y,e(s,{style:{float:"right",padding:"3px 0"},type:"text",icon:"Refresh",onClick:t[0]||(t[0]=n=>R())})]),default:a(()=>[K((C(),B(V,{data:w.value,height:x.value,"highlight-current-row":"",onRowClick:m,style:{width:"100%"}},{default:a(()=>[e(r,{label:"\u5E8F\u53F7",width:"60",type:"index"}),e(r,{label:"\u7F13\u5B58\u540D\u79F0",align:"center",prop:"cacheName","show-overflow-tooltip":!0,formatter:F}),e(r,{label:"\u5907\u6CE8",align:"center",prop:"remark","show-overflow-tooltip":!0}),e(r,{label:"\u64CD\u4F5C",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:a(n=>[e(s,{type:"text",icon:"Delete",onClick:L=>S(n.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[$,p.value]])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(_,{style:{height:"calc(100vh - 125px)"}},{header:a(()=>[Z,e(s,{style:{float:"right",padding:"3px 0"},type:"text",icon:"Refresh",onClick:t[1]||(t[1]=n=>D())})]),default:a(()=>[K((C(),B(V,{data:b.value,height:x.value,"highlight-current-row":"",onRowClick:j,style:{width:"100%"}},{default:a(()=>[e(r,{label:"\u5E8F\u53F7",width:"60",type:"index"}),e(r,{label:"\u7F13\u5B58\u952E\u540D",align:"center","show-overflow-tooltip":!0,formatter:U}),e(r,{label:"\u64CD\u4F5C",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:a(n=>[e(s,{type:"text",icon:"Delete",onClick:L=>O(n.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[$,f.value]])]),_:1})]),_:1}),e(d,{span:8},{default:a(()=>[e(_,{bordered:!1,style:{height:"calc(100vh - 125px)"}},{header:a(()=>[ee,e(s,{style:{float:"right",padding:"3px 0"},type:"text",icon:"Refresh",onClick:t[2]||(t[2]=n=>A())},{default:a(()=>[ae]),_:1})]),default:a(()=>[e(H,{model:c.value},{default:a(()=>[e(k,{gutter:32},{default:a(()=>[e(d,{offset:1,span:22},{default:a(()=>[e(v,{label:"\u7F13\u5B58\u540D\u79F0:",prop:"cacheName"},{default:a(()=>[e(g,{modelValue:c.value.cacheName,"onUpdate:modelValue":t[3]||(t[3]=n=>c.value.cacheName=n),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{offset:1,span:22},{default:a(()=>[e(v,{label:"\u7F13\u5B58\u952E\u540D:",prop:"cacheKey"},{default:a(()=>[e(g,{modelValue:c.value.cacheKey,"onUpdate:modelValue":t[4]||(t[4]=n=>c.value.cacheKey=n),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{offset:1,span:22},{default:a(()=>[e(v,{label:"\u7F13\u5B58\u5185\u5BB9:",prop:"cacheValue"},{default:a(()=>[e(g,{modelValue:c.value.cacheValue,"onUpdate:modelValue":t[5]||(t[5]=n=>c.value.cacheValue=n),type:"textarea",rows:8,readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{ce as default};
